[gd_scene load_steps=9 format=3 uid="uid://1no2wnxq1rbi"]

[ext_resource type="PackedScene" uid="uid://c4dyy4kax1ogv" path="res://Scenes/Units/BaseUnit/BaseUnit.tscn" id="1_ywvar"]
[ext_resource type="Texture2D" uid="uid://e1bgygf7kivp" path="res://Art/CharacterArt/SkelyBoyPartsx3.png" id="4_q828j"]
[ext_resource type="PackedScene" uid="uid://dqdlj0tjd7j18" path="res://Scenes/Weapons/dagger1.tscn" id="5_jw3rv"]
[ext_resource type="Shader" path="res://Art/Shaders/hitEffect.gdshader" id="5_pie7s"]

[sub_resource type="PackedScene" id="PackedScene_leyiu"]
_bundled = {
"conn_count": 0,
"conns": PackedInt32Array(),
"editable_instances": [],
"names": PackedStringArray("Node2D", "Node2D", "Arrow_hit_sfx", "AkEvent2D", "event", "trigger_on"),
"node_count": 2,
"node_paths": [NodePath(".")],
"nodes": PackedInt32Array(-1, -1, 1, 0, -1, 0, 0, 1073741824, 0, 3, 2, -1, 2, 4, 0, 5, 1, 0),
"variants": [{
"id": 625299376,
"name": "Play_Skeleton_die_v1"
}, 1],
"version": 3
}

[sub_resource type="Shader" id="Shader_2y081"]
code = "shader_type canvas_item;

uniform float flash_opacity = 0;
uniform vec4 flash_color : source_color = vec4(1.0,1.0,1.0,1.0);

void fragment() {
	vec4 tex_color = texture(TEXTURE, UV);
    vec3 blended_color = mix(tex_color.rgb, flash_color.rgb, flash_opacity); // Use only the RGB components for blending

	COLOR.rgb = blended_color;
	COLOR.a = tex_color.a;
}"

[sub_resource type="ShaderMaterial" id="ShaderMaterial_ki0up"]
resource_local_to_scene = true
shader = SubResource("Shader_2y081")
shader_parameter/flash_opacity = 0.0
shader_parameter/flash_color = Color(1, 1, 1, 1)

[sub_resource type="ShaderMaterial" id="ShaderMaterial_gmlcj"]
resource_local_to_scene = true
shader = ExtResource("5_pie7s")
shader_parameter/flash_opacity = 0.0
shader_parameter/flash_color = Color(1, 1, 1, 1)

[node name="Roguer" instance=ExtResource("1_ywvar")]
teamColor = "red"
walkSpeed = 10.0
runSpeed = 55.0
weaponRange = 30.0
weaponCooldown = 1.0
weaponDamage = 20
skeleton_die_scene = SubResource("PackedScene_leyiu")

[node name="Body" parent="Art" index="0"]
material = SubResource("ShaderMaterial_ki0up")
texture = ExtResource("4_q828j")
region_rect = Rect2(45, 17, 14, 12)

[node name="Head" parent="Art" index="1"]
material = SubResource("ShaderMaterial_gmlcj")
texture = ExtResource("4_q828j")
region_rect = Rect2(63, 1, 22, 19)

[node name="Dagger1" parent="." index="5" node_paths=PackedStringArray("own_body", "attackState") instance=ExtResource("5_jw3rv")]
position = Vector2(0, -4)
own_body = NodePath("..")
attackState = NodePath("../SM/Attack")

[node name="Skeleton_hit_sfx" type="AkEvent2D" parent="." index="12"]
_import_path = NodePath("")
unique_name_in_owner = false
process_mode = 0
process_priority = 0
process_physics_priority = 0
process_thread_group = 0
editor_description = ""
event = {
"id": 1030092179,
"name": "Play_Skeleton_hit_v1"
}
trigger_on = 2
script = null
